{% extends 'app/base.html' %}
{% load static %}

{% block title %}Dashboard | CS3240 Project{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'users/styles/dashboard.css' %}">
{% endblock %}

{% block content %}
<section id="dashboard">
  {% if messages %}
  <div class="messages">
    {% for message in messages %}
    <div class="alert {{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}
  
  <br>
  <br>
  <div id="dashboard-container">
    <div class="dashboard-widget-container">
      <a class="dashboard-widget" href="#">
        <div class="img-container">
          <img src="../../static/users/assets/icons/score.svg" alt="score-icon">
        </div>
        <span style="color: lightgrey;">Score</span>
      </a>
      <a class="dashboard-widget" href="{% url 'leaderboard:task_list' %}">
        <div class="img-container">
          <img src="../../static/users/assets/icons/task.svg" alt="task-icon">
        </div>
        <span style="color: lightgrey;">Daily Task</span>
      </a>
      <a class="dashboard-widget" href="#">
        <div class="img-container">
          <img src="../../static/users/assets/icons/events.svg" alt="events-icon">
        </div>
        <span style="color: lightgrey;">Events</span>
      </a>
    </div>

    <div class="leaderboard-container">

      <div class="leaderboard-title">
        <img src="../../static/users/assets/icons/leaderboard.svg" alt="leaderboard-icons">
        <span>Leaderboard</span>
      </div>

      <div class="leaderboard">
        <div class="row header">
          <div class="rank">Rank#</div>
          <div class="points">Points</div>
          <div class="user">User</div>
        </div>

        {% if leaderboard %}
          {% for entry in leaderboard %}
            <div class="row">
              <div class="rank">{{ entry.rank }}</div>
              <div class="points">{{ entry.points }}</div>
              <div class="user">{{ entry.user.username }}</div>
            </div>
          {% endfor %}
        {% else %}
          <div class="row">
            <div class="rank">â€”</div>
            <div class="points">0</div>
            <div class="user">No scores yet</div>
          </div>
        {% endif %}
      </div>
      

    </div>
  </div>

</section>
{% endblock %}