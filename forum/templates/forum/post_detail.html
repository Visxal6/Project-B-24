{% extends 'app/base.html' %}
{% load static %}

{% block styles %}
  <link rel="stylesheet" href="{% static 'forum/styles/post_detail.css' %}">
  <link rel="stylesheet" href="{% static 'forum/styles/post_detail_actions.css' %}">
{% endblock %}
{% block content %}
  <div class="card">
    {% if post.image %}
      <img src="{{ post.image.url }}" class="post-detail-img" alt="Post image">
    {% endif %}
    <div class="card-body">
      <h3 class="card-title">{{ post.title }}</h3>
      <h5 class="card-user">{{ post.author.username }}</h5>
      <p class="card-text">{{ post.caption }}</p>
      <p class="text-muted">Posted {{ post.created_at }}</p>
    </div>
  <div style="display: flex; gap: 12px; margin-bottom: 1rem; align-items: center;">
  <a href="{% url 'forum:post_list' %}" class="btn btn-secondary post-action-btn">Back to list</a>
      {% if user.is_authenticated and user == post.author %}
        <form action="{% url 'forum:post_delete' post.pk %}" method="post" style="display:inline; margin: 0;">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger post-action-btn" onclick="return confirm('Are you sure you want to delete this post?');">Delete Post</button>
        </form>
      {% endif %}
    </div>
  </div>
{% endblock %}
